import{u as N,j as l,r as m,R as g,a as C}from"./index-CGKb9VS5.js";const E=({labels:e,selectedLabel:r,onLabelClick:t})=>{const{language:n}=N();return l.jsx("div",{className:"py-4 overflow-x-auto hide-scrollbar",children:l.jsx("div",{className:"inline-flex gap-4 px-4",children:e.map(s=>l.jsx("button",{onClick:()=>t(s.id),className:`px-6 py-2 rounded-full transition-colors border ${r===s.id?"bg-white text-black border-white":"bg-black/20 text-white hover:bg-black/40 border-gray-400/50"}`,children:n==="en"?s.nameEn:s.nameTr},s.id))})})},L=({photo:e,onClick:r,getLocalizedName:t,hasTitle:n,hasDescription:s,imageStyle:i})=>l.jsxs("div",{className:`photo-card min-w-[90vw] md:min-w-[300px] ${(i==null?void 0:i.containerClassName)||"h-[80vh] md:h-[calc(100vh-12rem)]"} cursor-pointer flex-shrink-0 py-2 md:py-4`,onClick:r,children:[l.jsxs("div",{className:"relative group h-[90%] border border-gray-200/10 rounded-lg overflow-hidden",children:[l.jsx("img",{src:e.url,alt:n?t(e.title):"",className:`w-full h-full ${(i==null?void 0:i.imageClassName)||"object-cover md:object-contain"} group-hover:opacity-90 transition-opacity`}),s&&l.jsx("div",{className:"absolute inset-0 bg-black/75 opacity-0 group-hover:opacity-100 transition-opacity p-4 text-white overflow-hidden flex items-center justify-center",children:l.jsxs("p",{className:"text-sm text-center",children:[t(e.description).split(" ").slice(0,10).join(" "),"..."]})})]}),n&&l.jsx("p",{className:"mt-2 text-gray-600 text-center h-[10%] flex items-center justify-center text-sm md:text-base",children:t(e.title)})]},e.id),S=({scrollContainerRef:e,hasMore:r,onLoadMore:t,threshold:n=300})=>{m.useEffect(()=>{const s=e.current;if(!s)return;const i=()=>{const{scrollLeft:d,scrollWidth:a,clientWidth:f}=s;a-(d+f)<n&&r&&t()},u=d=>{s.scrollLeft+=d.deltaY,i()};return s.addEventListener("wheel",u,{passive:!1}),s.addEventListener("scroll",i),()=>{s.removeEventListener("wheel",u),s.removeEventListener("scroll",i)}},[e,r,t,n])},I=({scrollContainerRef:e,showOnlyOnHover:r=!1,onPrevious:t,onNext:n})=>{const[s,i]=m.useState(!1),[u,d]=m.useState(!0),[a,f]=m.useState(!1);m.useEffect(()=>{const c=e.current;if(!c)return;const o=()=>{i(c.scrollLeft>20),d(c.scrollWidth-c.scrollLeft-c.clientWidth>20)};return o(),c.addEventListener("scroll",o),()=>{c.removeEventListener("scroll",o)}},[e]);const h=()=>{if(t)t();else{const c=e.current;c&&c.scrollBy({left:-300,behavior:"smooth"})}},v=()=>{if(n)n();else{const c=e.current;c&&c.scrollBy({left:300,behavior:"smooth"})}},b=r?a:!0;return l.jsxs(l.Fragment,{children:[b&&s&&l.jsx("div",{className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 rounded-full p-2 cursor-pointer z-10 transition-opacity duration-300",onClick:h,"aria-label":"Scroll left",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),b&&u&&l.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 rounded-full p-2 cursor-pointer z-10 transition-opacity duration-300",onClick:v,"aria-label":"Scroll right",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},G=({photos:e,language:r,hasMore:t,onLoadMore:n,onPhotoClick:s,getLocalizedName:i,hasTitle:u,hasDescription:d,imageStyle:a})=>{const f=m.useRef(null),[h,v]=m.useState(0);S({scrollContainerRef:f,hasMore:t,onLoadMore:n});const b=m.useCallback(()=>{if(h>0){const o=h-1;v(o);const x=f.current,p=x==null?void 0:x.querySelectorAll(".photo-card");x&&p&&p[o]&&p[o].scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}},[h]),c=m.useCallback(()=>{if(h<e.length-1){const o=h+1;v(o);const x=f.current,p=x==null?void 0:x.querySelectorAll(".photo-card");x&&p&&p[o]&&p[o].scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"}),o>=e.length-3&&t&&n()}},[h,e.length,t,n]);return l.jsxs("div",{className:"relative flex-1",children:[l.jsx("div",{ref:f,className:"flex-1 overflow-x-auto hide-scrollbar h-full",children:l.jsx("div",{className:"inline-flex gap-4 md:gap-8 px-2 md:px-4 h-full items-center",children:(e==null?void 0:e.map(o=>l.jsx(L,{photo:o,onClick:()=>s(o),getLocalizedName:i,hasTitle:u,hasDescription:d,imageStyle:a},o.id)))||[]})}),l.jsx(I,{scrollContainerRef:f,onPrevious:b,onNext:c})]})};var O={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},y=g.createContext&&g.createContext(O),W=["attr","size","title"];function z(e,r){if(e==null)return{};var t=_(e,r),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function _(e,r){if(e==null)return{};var t={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(r.indexOf(n)>=0)continue;t[n]=e[n]}return t}function w(){return w=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},w.apply(this,arguments)}function k(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,n)}return t}function j(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?k(Object(t),!0).forEach(function(n){A(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function A(e,r,t){return r=B(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function B(e){var r=R(e,"string");return typeof r=="symbol"?r:r+""}function R(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function P(e){return e&&e.map((r,t)=>g.createElement(r.tag,j({key:t},r.attr),P(r.child)))}function D(e){return r=>g.createElement(F,w({attr:j({},e.attr)},r),P(e.child))}function F(e){var r=t=>{var{attr:n,size:s,title:i}=e,u=z(e,W),d=s||t.size||"1em",a;return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),g.createElement("svg",w({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,u,{className:a,style:j(j({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),i&&g.createElement("title",null,i),e.children)};return y!==void 0?g.createElement(y.Consumer,null,t=>r(t)):r(O)}function H(e){return D({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(e)}const $=({photo:e,onClose:r,getLocalizedName:t,hasTitle:n,hasDescription:s})=>l.jsx("div",{className:"fixed inset-0 bg-black/95 z-50 flex items-center justify-center p-4",onClick:r,children:l.jsxs("div",{className:"max-w-7xl max-h-[90vh] flex flex-col md:flex-row bg-white/5 p-0 rounded-lg w-full md:w-auto relative",onClick:i=>i.stopPropagation(),children:[l.jsx("button",{className:"absolute top-2 right-2 z-10 text-white bg-black/50 rounded-full p-1 hover:bg-black/80 transition-colors",onClick:r,"aria-label":"Close",children:l.jsx(H,{size:24})}),l.jsx("div",{className:"flex-1 min-h-0 flex items-center justify-center",children:l.jsx("img",{src:e.url,alt:n?t(e.title):"",className:"w-full h-full object-contain"})}),(s||n)&&l.jsxs("div",{className:"w-full md:w-80 text-white max-h-[30vh] md:max-h-[80vh] overflow-auto p-4 md:p-6 flex flex-col items-center text-center",children:[l.jsx("h2",{className:"text-2xl font-light mb-4",children:n?t(e.title):""}),l.jsx("p",{className:"text-gray-300 leading-relaxed",children:s?t(e.description):""})]})]})}),q=({photos:e,language:r,hasMore:t,onLoadMore:n,getLocalizedName:s,hasTitle:i=!0,hasDescription:u=!0,imageStyle:d})=>{const[a,f]=m.useState(null),h=m.useCallback(b=>{f(b)},[]),v=m.useCallback(()=>{f(null)},[]);return l.jsxs(l.Fragment,{children:[l.jsx(G,{photos:e,language:r,hasMore:t,onLoadMore:n,onPhotoClick:h,getLocalizedName:s,hasTitle:i,hasDescription:u,imageStyle:d}),a&&l.jsx($,{photo:a,onClose:v,getLocalizedName:s,hasTitle:i,hasDescription:u})]})},K=({photos:e,labels:r,loadMorePhotos:t,hasMorePhotos:n,hasFilter:s,hasTitle:i,hasDescription:u,process:d="default",excludeLabelIds:a=[],includeLabelIds:f=[],imageStyle:h})=>{const{language:v}=N(),{selectedLabel:b,handleLabelClick:c,getLocalizedName:o}=C();return l.jsxs("div",{className:"flex flex-col h-full bg-black text-white",children:[s&&l.jsx(E,{labels:(r||[]).filter(x=>!a.includes(x.id)),selectedLabel:b,onLabelClick:c}),l.jsx(q,{photos:e,language:v,hasMore:n,onLoadMore:t,getLocalizedName:o,hasTitle:i,hasDescription:u,imageStyle:h})]})};export{K as G};
